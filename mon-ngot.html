<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M√≥n Ng·ªçt ‚Äì Nh√† B·∫øp Nh·ªè</title>

  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lora:wght@400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --p1: #ffe1e8;
      --p2: #fdf0c4;
      --p3: #e3f4f4;
      --p4: #e8e1ff;
      --bg: #fff9f3;
      --text: #4a3b36;
      --muted: #8b7d75;
      --shadow: 0 20px 40px rgba(0,0,0,0.06);
      --radius: 22px;
      --accent: #f3bccc;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Lora", serif;
      background: linear-gradient(135deg,#fff9f3,#fdeaff);
      color: var(--text);
      line-height: 1.7;
      overflow-x: hidden;
    }

    .container {
      max-width: 1100px;
      margin: auto;
      padding: 24px;
      position: relative;
    }

    /* DOODLES */
    .doodle {
      position: absolute;
      opacity: 0.18;
      mix-blend-mode: multiply;
      pointer-events: none;
      z-index: -1;
    }
    .d1 {
      width: 150px; height: 150px;
      border-radius: 50%;
      border: 2px dashed #f3bccc;
      top: 20px; left: -40px;
      animation: float 9s ease-in-out infinite;
    }
    .d2 {
      width: 130px; height: 130px;
      border-radius: 40px;
      border: 2px solid #cde7e4;
      right: -40px; top: 45%;
      transform: rotate(-8deg);
      animation: wobble 8s ease-in-out infinite;
    }
    .d3 {
      width: 120px; height: 120px;
      border-radius: 50%;
      border: 2px dotted #f2d37a;
      bottom: -30px; right: 10%;
      animation: float 10s ease-in-out infinite reverse;
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-14px); }
    }
    @keyframes wobble {
      0%,100% { transform: rotate(-8deg); }
      50% { transform: rotate(5deg); }
    }

    /* NAV */
    nav {
      background: #fffdf8;
      padding: 14px 20px;
      border-radius: 18px;
      box-shadow: var(--shadow);
      border: 1px solid #ecdcd3;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      position: sticky;
      top: 8px;
      z-index: 10;
      backdrop-filter: blur(12px);
    }

    .logo {
      font-family: "Great Vibes", cursive;
      font-size: 30px;
    }

    .menu a {
      margin-left: 18px;
      text-decoration: none;
      color: var(--text);
      font-size: 14px;
      position: relative;
    }
    .menu a::after {
      content: "";
      position: absolute;
      left: 0; bottom: -3px;
      width: 0; height: 2px;
      background: linear-gradient(90deg,#f3bccc,#f2d37a);
      transition: width .25s ease;
    }
    .menu a:hover::after {
      width: 100%;
    }

    /* Heading */
    .page-heading { text-align:center; margin-bottom:16px; }
    .page-title {
      font-family: "Great Vibes", cursive;
      font-size: 46px;
      margin-bottom: 4px;
    }
    .page-subtitle { font-size: 14px; color: var(--muted); }

    /* Tools */
    .tools-bar {
      margin: 20px 0;
      padding: 14px 16px;
      border-radius: 18px;
      background: rgba(255,253,248,0.9);
      border: 1px dashed #ecdcd3;
      box-shadow: 0 14px 28px rgba(0,0,0,0.04);
      display: grid;
      grid-template-columns: minmax(0,2.2fr) minmax(0,1.8fr);
      gap: 14px;
    }

    .search-label { font-size:12px; margin-bottom:4px; color: var(--muted); }
    #search-input {
      width:100%; border-radius:999px; padding:8px 10px;
      border:1px solid #e8d6c7; background:#fffdf9;
      font-family:"Lora"; font-size:13px;
    }

    #search-suggestions {
      position: absolute;
      background:white; border-radius:12px; top:56px; left:0; right:0;
      border:1px solid #ecdcd3; box-shadow:0 16px 32px rgba(0,0,0,0.1);
    }

    .auto-item { padding:8px 10px; cursor:pointer; font-size:13px; }
    .auto-item:hover { background:#fff3f7; }

    .btn-soft {
      border-radius:999px;
      padding:6px 10px;
      border:1px solid #ecdcd3;
      background:white;
      cursor:pointer;
      font-size:12px;
      margin-right:6px;
    }

    /* Cards */
    .recipe-grid {
      display:grid;
      grid-template-columns: repeat(auto-fill,minmax(320px,1fr));
      gap:24px;
      margin-top:20px;
    }

    .recipe-card {
      background:#fffdf8;
      border-radius:var(--radius);
      padding:16px;
      border:1px solid #ecdcd3;
      box-shadow:var(--shadow);
      transition:.2s;
      position:relative;
    }
    .recipe-card:hover {
      transform: translateY(-5px) rotate(-0.5deg);
      border-color:#f3bccc;
      box-shadow:0 24px 50px rgba(0,0,0,0.12);
    }

    .recipe-image { width:100%; height:200px; object-fit:cover; border-radius:18px; }
    .recipe-title { font-family:"Great Vibes"; font-size:32px; }
    .recipe-meta { font-size:12px; color:var(--muted); }
    .chip {
      background:var(--p4); border-radius:999px; padding:3px 9px;
      border:1px solid #dcd2ff; font-size:11px;
    }

    /* Sparkle */
    .sparkle {
      position:absolute;
      width:12px; height:12px;
      background:radial-gradient(circle,#ffd6e8 20%, transparent 60%);
      border-radius:50%; pointer-events:none;
      animation:sparkleFade .6s ease-out forwards;
    }
    @keyframes sparkleFade {
      from {opacity:1; transform:scale(1);}
      to   {opacity:0; transform:scale(2);}
    }

    /* Scrapbook mode */
    .scrapbook-mode .recipe-card {
      border-style:dashed;
      background:#fffdf4;
      box-shadow:3px 6px rgba(0,0,0,0.18);
    }

    /* Popup */
    .overlay {
      position:fixed; inset:0;
      background:rgba(0,0,0,0.35);
      display:none;
      justify-content:center;
      align-items:center;
      z-index:90;
    }
    .overlay.show { display:flex; }
    .popup {
      background:#fffdf8;
      border-radius:18px;
      padding:14px;
      max-width:340px;
      border:1px solid #ecdcd3;
      font-size:13px;
      box-shadow:0 18px 40px rgba(0,0,0,0.15);
    }

  </style>
</head>
<body>

<div class="container">

  <!-- DOODLES -->
  <div class="doodle d1"></div>
  <div class="doodle d2"></div>
  <div class="doodle d3"></div>

  <!-- NAV -->
  <nav>
    <div class="logo">Nh√† B·∫øp Nh·ªè</div>
    <div class="menu">
      <a href="index.html">Trang ch·ªß</a>
      <a href="mon-man.html">M√≥n m·∫∑n</a>
      <a href="mon-ngot.html"><b>M√≥n ng·ªçt</b></a>
      <a href="do-uong.html">ƒê·ªì u·ªëng</a>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="page-heading">
    <div class="page-title">M√≥n ng·ªçt</div>
    <div class="page-subtitle">Nh·ªØng m√≥n nh·∫π nh√†ng, m·ªÅm ‚Äì th∆° ‚Äì d·ªãu, h·ª£p cho m·ªçi t√¢m tr·∫°ng.</div>
  </header>

  <!-- TOOLS BAR -->
  <section class="tools-bar">

    <div class="search-box" style="position:relative;">
      <div class="search-label">T√¨m m√≥n theo nguy√™n li·ªáu</div>
      <input id="search-input" placeholder="V√≠ d·ª•: chu·ªëi, xo√†i, s·ªØa..." />
      <div id="search-suggestions"></div>
    </div>

    <div>
      <button class="btn-soft" id="scrapbook-toggle">‚úèÔ∏è Ch·∫ø ƒë·ªô s·ªï tay</button>
      <button class="btn-soft" id="fridge-open-btn">üßä C√≥ g√¨ trong t·ªß l·∫°nh?</button>
      <button class="btn-soft" id="weather-btn">üå§ G·ª£i √Ω theo th·ªùi ti·∫øt</button>
      <div id="weather-output" style="font-size:12px;margin-top:6px;"></div>
    </div>

  </section>

  <!-- CARDS -->
  <main class="recipe-grid">

    <!-- PANCAKE -->
    <article class="recipe-card" id="card-pancake"
      data-title="B√°nh pancake chu·ªëi"
      data-image="https://images.pexels.com/photos/3026809/pexels-photo-3026809.jpeg"
      data-ingredients="Chu·ªëi, tr·ª©ng, y·∫øn m·∫°ch, s·ªØa, m·∫≠t ong">
      
      <img class="recipe-image" src="https://images.pexels.com/photos/3026809/pexels-photo-3026809.jpeg" />
      <div class="recipe-title">B√°nh pancake chu·ªëi</div>
      <div class="recipe-meta">15 ph√∫t ¬∑ Ng·ªçt nh·∫π</div>
      
      <p>M·ªÅm, th∆°m m√πi chu·ªëi, h·ª£p cho m·ªôt bu·ªïi s√°ng d·ªãu d√†ng.</p>

      <div class="chip">Chu·ªëi</div>
      <div class="chip">Y·∫øn m·∫°ch</div>

      <p><a href="banh-pancake-chuoi.html">Xem chi ti·∫øt</a></p>

      <button class="btn-soft" onclick="exportPostcard('card-pancake')">üìÆ Xu·∫•t postcard</button>

    </article>

    <!-- PUDDING -->
    <article class="recipe-card" id="card-pudding"
      data-title="Pudding xo√†i s·ªØa d·ª´a"
      data-image="https://images.pexels.com/photos/714447/pexels-photo-714447.jpeg"
      data-ingredients="Xo√†i, gelatin, s·ªØa d·ª´a, s·ªØa ƒë·∫∑c">

      <img class="recipe-image" src="https://images.pexels.com/photos/714447/pexels-photo-714447.jpeg" />
      <div class="recipe-title">Pudding xo√†i s·ªØa d·ª´a</div>
      <div class="recipe-meta">20 ph√∫t ¬∑ M√°t l·∫°nh</div>

      <p>M·ªÅm ‚Äì m∆∞·ª£t ‚Äì th∆°m xo√†i, ƒÉn m·ªôt mi·∫øng l√† tan stress.</p>

      <div class="chip">Xo√†i</div>
      <div class="chip">S·ªØa d·ª´a</div>

      <p><a href="#">Xem chi ti·∫øt (sau n√†y)</a></p>

      <button class="btn-soft" onclick="exportPostcard('card-pudding')">üìÆ Xu·∫•t postcard</button>

    </article>

    <!-- COOKIE -->
    <article class="recipe-card" id="card-cookie"
      data-title="Cookie socola m·ªÅm"
      data-image="https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg"
      data-ingredients="B·ªôt m√¨, b∆°, tr·ª©ng, ƒë∆∞·ªùng n√¢u, socola chip">

      <img class="recipe-image" src="https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg" />
      <div class="recipe-title">Cookie socola m·ªÅm</div>
      <div class="recipe-meta">25 ph√∫t ¬∑ Ng·ªçt ƒë·∫≠m</div>

      <p>B√™n ngo√†i gi√≤n, b√™n trong m·ªÅm ·∫©m ‚Äì ƒÉn c√πng s·ªØa l√† ‚Äúth∆°‚Äù.</p>

      <div class="chip">Socola</div>
      <div class="chip">Snack</div>

      <p><a href="#">Xem chi ti·∫øt (sau n√†y)</a></p>

      <button class="btn-soft" onclick="exportPostcard('card-cookie')">üìÆ Xu·∫•t postcard</button>

    </article>

  </main>

  <footer style="text-align:center;margin-top:40px;color:#8b7d75;">
    ¬© 2025 Nh√† B·∫øp Nh·ªè ‚Äì M√≥n ng·ªçt.
  </footer>

</div>

<!-- POPUP FRIDGE -->
<div class="overlay" id="fridge-overlay">
  <div class="popup">
    <h3>B·∫°n c√≥ g√¨ trong t·ªß l·∫°nh?</h3>

    <label><input type="checkbox" class="ing-check" value="chu·ªëi"> Chu·ªëi</label>
    <label><input type="checkbox" class="ing-check" value="tr·ª©ng"> Tr·ª©ng</label>
    <label><input type="checkbox" class="ing-check" value="s·ªØa"> S·ªØa</label>
    <label><input type="checkbox" class="ing-check" value="xo√†i"> Xo√†i</label>
    <label><input type="checkbox" class="ing-check" value="b∆°"> B∆°</label>
    <label><input type="checkbox" class="ing-check" value="socola"> Socola</label>

    <div style="margin-top:12px;">
      <button class="btn-soft" id="fridge-suggest-btn">G·ª£i √Ω</button>
      <button class="btn-soft" id="fridge-close-btn">ƒê√≥ng</button>
    </div>

    <div id="fridge-result" style="margin-top:10px;"></div>
  </div>
</div>

<script>
/* ===========================
    SEARCH
===========================*/
const recipeDB = [
  {name:"B√°nh pancake chu·ªëi", ingredients:["chu·ªëi","tr·ª©ng","y·∫øn","s·ªØa"], url:"banh-pancake-chuoi.html"},
  {name:"Pudding xo√†i s·ªØa d·ª´a", ingredients:["xo√†i","gelatin","s·ªØa"], url:"#"},
  {name:"Cookie socola m·ªÅm", ingredients:["socola","b·ªôt","b∆°","tr·ª©ng"], url:"#"}
];

const input = document.getElementById("search-input");
const sug = document.getElementById("search-suggestions");

input.addEventListener("input",()=>{
  const q = input.value.toLowerCase().trim();
  sug.innerHTML=""; if(!q) return;

  const items = recipeDB.filter(r =>
    r.name.toLowerCase().includes(q) ||
    r.ingredients.some(i=>i.includes(q))
  );

  items.forEach(r=>{
    const div=document.createElement("div");
    div.className="auto-item";
    div.textContent=r.name;
    div.onclick=()=>location.href=r.url;
    sug.appendChild(div);
  });

  if(!items.length){
    let none=document.createElement("div");
    none.className="auto-item";
    none.textContent="Kh√¥ng t√¨m th·∫•y m√≥n...";
    sug.appendChild(none);
  }
});


/* ===========================
    SCRAPBOOK MODE
===========================*/
document.getElementById("scrapbook-toggle").addEventListener("click",()=>{
  document.body.classList.toggle("scrapbook-mode");
});


/* ===========================
    SPARKLE EFFECT
===========================*/
document.querySelectorAll(".recipe-card").forEach(card=>{
  card.addEventListener("mousemove",(e)=>{
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const sp = document.createElement("span");
    sp.className="sparkle";
    sp.style.left = x+"px";
    sp.style.top = y+"px";
    card.appendChild(sp);
    setTimeout(()=>sp.remove(),600);
  })
});


/* ===========================
    FRIDGE POPUP
===========================*/
let fridge = document.getElementById("fridge-overlay");

document.getElementById("fridge-open-btn").onclick = ()=>fridge.classList.add("show");
document.getElementById("fridge-close-btn").onclick = ()=>fridge.classList.remove("show");

document.getElementById("fridge-suggest-btn").onclick = ()=>{
  const selected = [...document.querySelectorAll(".ing-check:checked")]
    .map(i=>i.value);
  const out = document.getElementById("fridge-result");

  if(!selected.length){
    out.textContent="B·∫°n ch∆∞a ch·ªçn nguy√™n li·ªáu.";
    return;
  }

  const matches = recipeDB.filter(r => selected.some(i=>r.ingredients.includes(i)));

  out.innerHTML = matches.length
    ? matches.map(m=>`<a href="${m.url}">${m.name}</a>`).join("<br>")
    : "Kh√¥ng c√≥ m√≥n ph√π h·ª£p.";
};


/* ===========================
    WEATHER SUGGESTION
===========================*/
document.getElementById("weather-btn").onclick = async ()=>{
  const output = document.getElementById("weather-output");
  output.textContent="ƒêang xem th·ªùi ti·∫øt...";

  try{
    const res = await fetch("https://wttr.in/Hanoi?format=j1");
    const data = await res.json();
    const temp = Number(data.current_condition[0].temp_C);

    if(temp<=20) output.textContent = `H√† N·ªôi ${temp}¬∞C ‚Äì tr·ªùi l·∫°nh, h·ª£p m√≥n m·ªÅm & ·∫•m nh∆∞ pancake ho·∫∑c cookie.`;
    else if(temp>=30) output.textContent = `H√† N·ªôi ${temp}¬∞C ‚Äì n√≥ng, pudding xo√†i s·∫Ω m√°t d·ªãu nh·∫•t.`;
    else output.textContent = `H√† N·ªôi ${temp}¬∞C ‚Äì th·ªùi ti·∫øt d·ªÖ ch·ªãu, m√≥n n√†o c≈©ng h·ª£p.`;

  }catch{
    output.textContent="Kh√¥ng xem ƒë∆∞·ª£c th·ªùi ti·∫øt.";
  }
};


/* ===========================
    POSTCARD EXPORT
===========================*/
function exportPostcard(cardId){
  const card=document.getElementById(cardId);
  const title=card.dataset.title;
  const img=card.dataset.image;
  const ing=card.dataset.ingredients;

  const html = `
  <html><body style="background:#fff7fb;padding:20px;font-family:Lora;">
    <div style="
      border:2px dashed #f3bccc;
      padding:20px;
      border-radius:18px;
      max-width:520px;
      background:white;
      margin:auto;
    ">
      <h1 style="font-family:'Great Vibes';font-size:40px;text-align:center">${title}</h1>
      <img src="${img}" style="width:100%;border-radius:14px;margin-bottom:10px;">
      <h3>Nguy√™n li·ªáu g·ª£i √Ω:</h3>
      <p style="white-space:pre-wrap;">${ing}</p>
      <p style="font-size:12px;color:#8b7d75;">In t·ª´ web Nh√† B·∫øp Nh·ªè (b·∫£n postcard).</p>
    </div>
  </body></html>`;

  const w = window.open("", "_blank");
  w.document.write(html);
  w.document.close();
}
window.exportPostcard = exportPostcard;

</script>

</body>
</html>
