<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>S∆∞·ªùn x√†o chua ng·ªçt ‚Äì Crinkle Corner</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lora:wght@400;500;600&display=swap" rel="stylesheet"/>

  <style>
    :root {
      --p1: #ffe1e8;
      --p2: #fdf0c4;
      --p3: #e3f4f4;
      --p4: #e8e1ff;
      --text: #4a3b36;
      --muted: #8b7d75;
      --shadow: 0 20px 40px rgba(0,0,0,0.06);
      --radius: 22px;
      --accent: #f3bccc;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Lora", serif;
      background: linear-gradient(135deg, #fff9f3, #fbe9ff);
      color: var(--text);
      line-height: 1.7;
      overflow-x: hidden;
    }

    .container {
      max-width: 1100px;
      margin: auto;
      padding: 24px;
      position: relative;
    }

    /* DOODLES */
    .doodle {
      position: absolute;
      opacity: 0.16;
      mix-blend-mode: multiply;
      pointer-events: none;
      z-index: -1;
    }
    .doodle.d1 {
      width: 150px; height: 150px;
      border-radius: 50%;
      border: 2px dashed #f3bccc;
      top: 10px; left: -40px;
      animation: float 9s ease-in-out infinite;
    }
    .doodle.d2 {
      width: 130px; height: 130px;
      border-radius: 40px;
      border: 2px solid #cde7e4;
      right: 4%; top: 40%;
      transform: rotate(-10deg);
      animation: wobble 7s ease-in-out infinite;
    }
    .doodle.d3 {
      width: 120px; height: 120px;
      border-radius: 50%;
      border: 2px dotted #f2d37a;
      bottom: 0; right: -50px;
      animation: float 10s ease-in-out infinite reverse;
    }
    .doodle::before {
      content: "üçñ";
      position: absolute;
      font-size: 26px;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0.7;
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }
    @keyframes wobble {
      0%,100% { transform: rotate(-10deg); }
      50% { transform: rotate(5deg); }
    }

    /* NAV */
    nav {
      background: white;
      padding: 16px 24px;
      border-radius: 18px;
      box-shadow: var(--shadow);
      border: 1px solid #ecdcd3;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      position: sticky;
      top: 10px;
      z-index: 10;
      backdrop-filter: blur(10px);
    }

    .logo {
      font-family: "Great Vibes", cursive;
      font-size: 32px;
    }

    .menu a {
      margin-left: 20px;
      text-decoration: none;
      color: var(--text);
      font-size: 15px;
      font-weight: 500;
      position: relative;
    }
    .menu a::after {
      content: "";
      position: absolute;
      left: 0; bottom: -3px;
      width: 0; height: 2px;
      background: linear-gradient(90deg,#f3bccc,#f2d37a);
      transition: width .25s ease;
    }
    .menu a:hover::after {
      width: 100%;
    }

    /* HERO */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 26px;
      margin-top: 10px;
      margin-bottom: 30px;
      align-items: center;
    }

    .hero-text {
      animation: fadeInLeft 0.7s ease-out;
    }

    .recipe-title {
      font-family: "Great Vibes", cursive;
      font-size: 46px;
      margin-bottom: 6px;
    }

    .subtitle {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 10px;
    }

    /* Chips */
    .chips {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 8px;
    }

    .chip {
      background: var(--p4);
      padding: 5px 12px;
      font-size: 11px;
      border-radius: 999px;
      border: 1px solid #dcd2ff;
      color: #6a5fa3;
    }

    /* FAVORITE */
    .fav-btn {
      width: 32px; height: 32px;
      border-radius: 50%;
      border: 1px solid #f3c7d3;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
      background: #fff7fb;
      transition: .2s;
      box-shadow: 0 6px 14px rgba(0,0,0,0.05);
    }
    .fav-btn.active { background:#ffe1ec; }
    .fav-btn span { font-size: 18px; color:#f08aa6; }

    /* Rating */
    .rating-row { display:flex; gap:8px; align-items:center; margin-bottom:8px; font-size:13px; }
    .stars span {
      cursor:pointer; font-size:18px; color:#d7c5c5;
      transition:.15s;
    }
    .stars span.active { color:#f7b344; transform:scale(1.1); }

    .hero-image-wrap { animation: fadeInRight 0.7s ease-out; }
    .hero-image {
      width: 100%; height: 260px; object-fit: cover;
      border-radius: 26px; box-shadow: var(--shadow);
    }

    @keyframes fadeInLeft { from{opacity:0;transform:translateX(-10px);} to{opacity:1;transform:translateX(0);} }
    @keyframes fadeInRight{ from{opacity:0;transform:translateX(10px);} to{opacity:1;transform:translateX(0);} }

    /* LAYOUT */
    .main-layout {
      display: grid;
      grid-template-columns: minmax(0,1.3fr) minmax(0,1fr);
      gap: 26px;
    }

    .card {
      background:white;
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
      border:1px solid #ecdcd3;
      margin-bottom:20px;
    }

    h3.section-heading { font-size:18px; margin-bottom:8px; }

    /* Ingredient list */
    ul.pretty, ol.steps {
      padding-left:18px; margin-bottom:10px; font-size:14px;
    }
    ul.pretty li, ol.steps li { margin-bottom:6px; }

    /* Shopping list */
    .shopping-card { background:#fffef8; border-radius:var(--radius); border:1px dashed #f0e0aa; }
    .shopping-drop {
      min-height:60px; padding:8px; border-radius:14px;
      background:#fffdf2; border:1px dashed #e7cf8b;
      font-size:13px;
    }

    .ingredient-item { cursor:grab; }
    .ingredient-item.dragging { opacity:0.5; }

    .shopping-item {
      display:flex; justify-content:space-between;
      font-size:13px; margin-bottom:4px;
    }

    /* Video */
    .video-wrapper iframe {
      width:100%; height:220px; border-radius:18px; border:none;
    }

    /* Tips */
    .tip-note {
      position:relative;
      background:#fff8d9; border-radius:16px;
      padding:14px; box-shadow:0 12px 22px rgba(0,0,0,0.07);
      border:1px solid #f0e0aa;
      transform:rotate(-1.5deg);
      margin-top:16px;
      font-size:13px;
    }

    /* Notes */
    .notes-area { width:100%; min-height:80px; border:1px solid #ecdcd3; font-size:13px; padding:10px; border-radius:14px; background:#fffdfb; }

    /* Random + Mood Buttons */
    .top-actions { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px; font-size:12px; }
    .btn-soft {
      border-radius:999px; border:1px solid #ecdcd3;
      padding:6px 10px; background:white; cursor:pointer;
      display:inline-flex; align-items:center; gap:6px; font-size:12px;
    }

    /* Mood Popup */
    .mood-overlay {
      position:fixed; inset:0; background:rgba(0,0,0,0.35);
      display:flex; align-items:center; justify-content:center;
      z-index:999; opacity:0; pointer-events:none;
      transition:.25s;
    }
    .mood-overlay.show { opacity:1; pointer-events:auto; }
    .mood-box {
      background:#fffdf8; border-radius:20px; padding:20px;
      width:90%; max-width:320px; text-align:center;
      border:1px solid #f0e2d7;
      animation:fadeIn .25s ease-out;
    }
    .mood-title { font-family:"Great Vibes"; font-size:30px; margin-bottom:4px; }
    .mood-sub { font-size:12px; color:var(--muted); }
    .mood-buttons { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:12px; }
    .mood-btn { padding:5px 10px; border-radius:999px; border:1px solid #ecdcd3; cursor:pointer; background:white; font-size:12px; }

    @keyframes fadeIn { from{opacity:0;transform:translateY(8px);} to{opacity:1;transform:translateY(0);} }
  </style>
</head>
<body>

<div class="container">

  <!-- DOODLES -->
  <div class="doodle d1"></div>
  <div class="doodle d2"></div>
  <div class="doodle d3"></div>

  <!-- MOOD POPUP -->
  <div class="mood-overlay" id="moodOverlay">
    <div class="mood-box">
      <div class="mood-title">H√¥m nay b·∫°n th·∫•y sao?</div>
      <div class="mood-sub">M√¨nh g·ª£i √Ω c√°ch ƒÉn m√≥n n√†y t√πy theo mood nh√©.</div>
      <div class="mood-buttons">
        <button class="mood-btn" data-mood="met">M·ªát m·ªèi</button>
        <button class="mood-btn" data-mood="healthy">Mu·ªën healthy</button>
        <button class="mood-btn" data-mood="voi">ƒêang v·ªôi</button>
      </div>
      <div class="mood-note" id="moodNote" style="margin-top:10px;color:var(--muted);font-size:12px;"></div>
    </div>
  </div>

  <!-- NAV -->
  <nav>
    <div class="logo">Crinkle Corner</div>
    <div class="menu">
      <a href="index.html">Trang ch·ªß</a>
      <a href="mon-man.html"><b>M√≥n m·∫∑n</b></a>
      <a href="mon-ngot.html">M√≥n ng·ªçt</a>
      <a href="do-uong.html">ƒê·ªì u·ªëng</a>
    </div>
  </nav>

  <!-- TOP ACTIONS -->
  <div class="top-actions">
    <button class="btn-soft" id="moodBtn"><span>üí≠</span>H·ªèi mood h√¥m nay</button>
    <button class="btn-soft" id="randomBtn"><span>üé°</span>H√¥m nay ƒÉn g√¨?</button>
    <div class="random-result" id="randomResult"></div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-text">
      <div class="recipe-title">S∆∞·ªùn x√†o chua ng·ªçt</div>

      <div class="subtitle">M√≥n ƒÉn quen thu·ªôc - chua ng·ªçt h√†i h√≤a.</div>

      <div class="chips">
        <div class="chip">50 ph√∫t</div>
        <div class="chip">Trung b√¨nh</div>
        <div class="chip">2‚Äì3 kh·∫©u ph·∫ßn</div>
        <div class="chip">ƒê·∫≠m ƒë√†</div>
      </div>

      <!-- RATING -->
      <div class="rating-row">
        <span>ƒê√°nh gi√° c·ªßa b·∫°n:</span>
        <div class="stars" id="starContainer">
          <span data-star="1">‚òÖ</span>
          <span data-star="2">‚òÖ</span>
          <span data-star="3">‚òÖ</span>
          <span data-star="4">‚òÖ</span>
          <span data-star="5">‚òÖ</span>
        </div>
        <span id="ratingText">(ch∆∞a c√≥)</span>
      </div>

      <!-- FAVORITE -->
      <div style="display:flex;align-items:center;gap:8px;margin:4px 0;">
        <div class="fav-btn" id="favBtn"><span id="favIcon">‚ô°</span></div>
        <span class="fav-label" id="favLabel" style="font-size:12px;color:var(--muted);">Th√™m v√†o y√™u th√≠ch</span>
      </div>

      <p style="font-size:14px;">
        S∆∞·ªùn m·ªÅm, √°o trong l·ªõp s·ªët chua ng·ªçt, h·ª£p v·ªõi nh·ªØng b·ªØa c∆°m gia ƒë√¨nh.
      </p>
    </div>

    <div class="hero-image-wrap">
      <img class="hero-image"
           src="images/suon-xao-chua-ngot-2.jpg"
           alt="S∆∞·ªùn x√†o chua ng·ªçt">
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <section class="main-layout">

    <!-- LEFT -->
    <div>
      <div class="card">
        <h3 class="section-heading">Nguy√™n li·ªáu</h3>
        <ul class="pretty" id="ingredientList">
          <li class="ingredient-item" draggable="true">450 g s∆∞·ªùn</li>
          <li class="ingredient-item" draggable="true">1/2 th√¨a cafe mu·ªëi</li>

          <li><strong>Ph·∫ßn gia v·ªã ∆∞·ªõp s∆∞·ªùn:</strong></li>
          <li class="ingredient-item" draggable="true">1/8 th√¨a cafe b·ªôt t·ªèi / 1/2 th√¨a t·ªèi bƒÉm</li>
          <li class="ingredient-item" draggable="true">1/8 th√¨a cafe b·ªôt h√†nh / 1/2 th√¨a h√†nh bƒÉm</li>
          <li class="ingredient-item" draggable="true">1/2 th√¨a canh d·∫•m t√°o</li>
          <li class="ingredient-item" draggable="true">1/2 th√¨a canh d·∫ßu h√†o</li>
          <li class="ingredient-item" draggable="true">1/2 th√¨a canh x√¨ d·∫ßu</li>

          <li><strong>Ph·∫ßn s·ªët chua ng·ªçt:</strong></li>
          <li class="ingredient-item" draggable="true">15 g h√†nh kh√¥</li>
          <li class="ingredient-item" draggable="true">7 g t·ªèi</li>
          <li class="ingredient-item" draggable="true">1 th√¨a canh ƒë∆∞·ªùng</li>
          <li class="ingredient-item" draggable="true">2/3 th√¨a canh d·∫•m</li>
          <li class="ingredient-item" draggable="true">1/2 th√¨a canh d·∫ßu h√†o</li>
          <li class="ingredient-item" draggable="true">120 ml n∆∞·ªõc n√≥ng</li>
          <li class="ingredient-item" draggable="true">60 ml d·∫ßu ƒÉn</li>
        </ul>
      </div>

      <div class="card">
        <h3 class="section-heading">C√°ch l√†m</h3>
        <ol class="steps">
          <li>B√≥c b·ªè l·ªõp m√†ng m·ªèng ph√≠a sau d·∫£i s∆∞·ªùn, ch·∫∑t mi·∫øng v·ª´a ƒÉn.</li>
          <li>Lu·ªôc s∆° s∆∞·ªùn v·ªõi mu·ªëi cho s·∫°ch, r·ª≠a l·∫°i v√† ƒë·ªÉ r√°o.</li>
          <li>∆Ø·ªõp s∆∞·ªùn v·ªõi to√†n b·ªô gia v·ªã ∆∞·ªõp trong 20‚Äì30 ph√∫t.</li>
          <li>BƒÉm nh·ªè h√†nh t·ªèi l√†m s·ªët.</li>
          <li>Phi h√†nh t·ªèi v√†ng gi√≤n, v·ªõt ri√™ng.</li>
          <li>Chi√™n s∆∞·ªùn tr√™n l·ª≠a to ƒë·∫øn khi r√°m v√†ng.</li>
          <li>Ch·∫Øt b·ªõt d·∫ßu, ch·ªâ ƒë·ªÉ l·∫°i 1 th√¨a canh.</li>
          <li>Pha n∆∞·ªõc s·ªët: ƒë∆∞·ªùng + d·∫•m + d·∫ßu h√†o + n∆∞·ªõc n√≥ng + ph·∫ßn n∆∞·ªõc ∆∞·ªõp c√≤n l·∫°i.</li>
          <li>ƒê·ªï s·ªët v√†o ch·∫£o, ƒëun liu riu 15‚Äì20 ph√∫t cho s∆∞·ªùn m·ªÅm.</li>
          <li>M·ªü vung, ƒëun l·ª≠a to cho s·ªët s·ªát l·∫°i.</li>
          <li>Tr·ªôn h√†nh t·ªèi phi v√†o tr∆∞·ªõc khi t·∫Øt b·∫øp.</li>
        </ol>
      </div>
    </div>

    <!-- RIGHT -->
    <div>
      <!-- VIDEO -->
      <div class="card video-wrapper">
        <span class="pill-label">Video h∆∞·ªõng d·∫´n</span>
        <iframe src="https://www.youtube.com/embed/dj535hl32-Y" allowfullscreen></iframe>
      </div>

      <!-- SHOPPING LIST -->
      <div class="card shopping-card">
        <h3 class="section-heading">Gi·ªè ƒëi ch·ª£</h3>
        <div id="shoppingDrop" class="shopping-drop">
          <span style="font-size:12px;color:var(--muted);">
            K√©o nguy√™n li·ªáu t·ª´ danh s√°ch b√™n tr√°i sang ƒë√¢y.
          </span>
        </div>
      </div>

      <!-- TIPS -->
      <div class="tip-note">
        <p><strong>M·∫πo nh·ªè:</strong></p>
        <p>S∆∞·ªùn s·∫Ω ngon nh·∫•t khi c√≥ ƒë·ªô m·ªÅm v·ª´a ph·∫£i, s·ªët √°o ƒë·ªÅu v√† h∆°i s·ªát.
          ƒê·ª´ng chi√™n qu√° l√¢u k·∫ªo kh√¥, v√† nh·ªõ ƒë·∫£o ƒë·ªÅu khi om v·ªõi s·ªët.</p>
      </div>

      <!-- NOTES -->
      <div class="card" style="margin-top:18px;">
        <h3 class="section-heading">Ghi ch√∫ c·ªßa b·∫°n</h3>
        <textarea id="personalNotes" class="notes-area" placeholder="B·∫°n mu·ªën l∆∞u √Ω g√¨ cho l·∫ßn sau?"></textarea>
      </div>
    </div>
  </section>

  <!-- RECOMMEND -->
  <section class="card">
    <h3 class="section-heading">B·∫°n c√≥ th·ªÉ th√≠ch</h3>
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;">
      <a class="rec-card" href="kho-quet.html" style="text-decoration:none;color:inherit;border:1px dashed #ecdcd3;padding:12px;border-radius:16px;">
        <div class="rec-tag">M√≥n m·∫∑n</div>
        <div class="rec-title"><strong>Kho qu·∫πt</strong></div>
      </a>
      <a class="rec-card" href="thit-quay-gion-bi" style="text-decoration:none;color:inherit;border:1px dashed #ecdcd3;padding:12px;border-radius:16px;">
        <div class="rec-tag">M√≥n m·∫∑n</div>
        <div class="rec-title"><strong>Th·ªãt quay gi√≤n b√¨</strong></div>
      </a>
    </div>
  </section>

  <footer style="text-align:center;margin-top:40px;font-size:13px;color:var(--muted);">
    ¬© 2025 Crinkle Corner ‚Äì S∆∞·ªùn x√†o chua ng·ªçt.
  </footer>

</div>

<!-- SCRIPT -->
<script>
/* CONFIG */
const RECIPE_ID = "suon_xao_chua_ngot";

/* FAVORITE */
const favBtn = document.getElementById("favBtn");
const favIcon = document.getElementById("favIcon");
const favLabel = document.getElementById("favLabel");

function loadFavorite() {
  const favs = JSON.parse(localStorage.getItem("favorites") || "[]");
  if (favs.includes(RECIPE_ID)) {
    favBtn.classList.add("active");
    favIcon.textContent = "‚ô•";
    favLabel.textContent = "ƒê√£ th√™m v√†o y√™u th√≠ch";
  }
}

function toggleFavorite() {
  let favs = JSON.parse(localStorage.getItem("favorites") || "[]");
  if (favs.includes(RECIPE_ID)) {
    favs = favs.filter(id => id !== RECIPE_ID);
    favBtn.classList.remove("active");
    favIcon.textContent = "‚ô°";
    favLabel.textContent = "Th√™m v√†o y√™u th√≠ch";
  } else {
    favs.push(RECIPE_ID);
    favBtn.classList.add("active");
    favIcon.textContent = "‚ô•";
    favLabel.textContent = "ƒê√£ th√™m v√†o y√™u th√≠ch";
  }
  localStorage.setItem("favorites", JSON.stringify(favs));
}

favBtn.addEventListener("click", toggleFavorite);
loadFavorite();

/* RATING */
const starContainer = document.getElementById("starContainer");
const ratingText = document.getElementById("ratingText");

function loadRating() {
  const rating = Number(localStorage.getItem("rating_" + RECIPE_ID) || 0);
  ratingText.textContent = rating ? `(${rating}/5)` : "(ch∆∞a c√≥)";
  [...starContainer.children].forEach(span => {
    const val = Number(span.dataset.star);
    span.classList.toggle("active", val <= rating);
  });
}

starContainer.addEventListener("click", e => {
  if (e.target.dataset.star) {
    const val = Number(e.target.dataset.star);
    localStorage.setItem("rating_" + RECIPE_ID, val);
    loadRating();
  }
});

loadRating();

/* SHOPPING LIST */
const shoppingDrop = document.getElementById("shoppingDrop");
let draggedItem = null;

function renderShoppingList() {
  let data = JSON.parse(localStorage.getItem("shopping_" + RECIPE_ID) || "[]");
  shoppingDrop.innerHTML = "";
  if (!data.length) {
    shoppingDrop.innerHTML =
      '<span style="font-size:12px;color:var(--muted);">K√©o nguy√™n li·ªáu t·ª´ danh s√°ch b√™n tr√°i sang ƒë√¢y.</span>';
    return;
  }
  data.forEach((t, i) => {
    const div = document.createElement("div");
    div.className = "shopping-item";
    div.innerHTML = `<span>${t}</span><button data-idx="${i}" style="border:none;background:transparent;cursor:pointer;">‚úï</button>`;
    shoppingDrop.appendChild(div);
  });
}

document.querySelectorAll(".ingredient-item").forEach(li => {
  li.addEventListener("dragstart", () => {
    draggedItem = li.textContent.trim();
    li.classList.add("dragging");
  });
  li.addEventListener("dragend", () => {
    draggedItem = null;
    li.classList.remove("dragging");
  });
});

shoppingDrop.addEventListener("dragover", e => e.preventDefault());

shoppingDrop.addEventListener("drop", () => {
  if (draggedItem) {
    let data = JSON.parse(localStorage.getItem("shopping_" + RECIPE_ID) || "[]");
    if (!data.includes(draggedItem)) {
      data.push(draggedItem);
      localStorage.setItem("shopping_" + RECIPE_ID, JSON.stringify(data));
      renderShoppingList();
    }
  }
});

shoppingDrop.addEventListener("click", e => {
  if (e.target.tagName === "BUTTON") {
    let data = JSON.parse(localStorage.getItem("shopping_" + RECIPE_ID) || "[]");
    data.splice(Number(e.target.dataset.idx), 1);
    localStorage.setItem("shopping_" + RECIPE_ID, JSON.stringify(data));
    renderShoppingList();
  }
});

renderShoppingList();

/* PERSONAL NOTES */
const notesArea = document.getElementById("personalNotes");
notesArea.value = localStorage.getItem("notes_" + RECIPE_ID) || "";
notesArea.addEventListener("input", () => {
  localStorage.setItem("notes_" + RECIPE_ID, notesArea.value);
});

/* RANDOM WHEEL */
const randomBtn = document.getElementById("randomBtn");
const randomResult = document.getElementById("randomResult");

const recipes = [
  { name: "S∆∞·ªùn x√†o chua ng·ªçt", url: "suon-xao-chua-ngot.html" },
  { name: "Kho qu·∫πt", url: "kho-quet.html" },
  { name: "B√°nh pancake chu·ªëi", url: "banh-pancake-chuoi.html" }
];

randomBtn.addEventListener("click", () => {
  randomResult.textContent = "ƒêang g·ª£i √Ω...";
  let count = 0;
  const spin = setInterval(() => {
    const r = recipes[Math.floor(Math.random()*recipes.length)];
    randomResult.textContent = "Hay th·ª≠: " + r.name;
    count++;
    if (count > 10) {
      clearInterval(spin);
      const chosen = recipes[Math.floor(Math.random()*recipes.length)];
      randomResult.innerHTML =
        `H√¥m nay th·ª≠ <strong>${chosen.name}</strong>? 
         <a href="${chosen.url}" style="font-size:12px;">(Xem c√¥ng th·ª©c)</a>`;
    }
  }, 120);
});

/* MOOD POPUP */
const moodBtn = document.getElementById("moodBtn");
const moodOverlay = document.getElementById("moodOverlay");
const moodNote = document.getElementById("moodNote");

const moodTexts = {
  met: "L√†m kh·∫©u ph·∫ßn √≠t h∆°n ƒë·ªÉ ti·∫øt ki·ªám c√¥ng s·ª©c v√† th·ªùi gian.",
  healthy: "Gi·∫£m d·∫ßu chi√™n, tƒÉng th√™m rau ƒÉn k√®m ƒë·ªÉ b·ªØa ƒÉn c√¢n b·∫±ng.",
  voi: "L√†m n·ª≠a kh·∫©u ph·∫ßn ‚Äì s·ªët chua ng·ªçt v·∫´n ngon m√† nhanh h∆°n.",
};

moodBtn.addEventListener("click", () => {
  moodOverlay.classList.add("show");
  moodNote.textContent = "";
});

moodOverlay.addEventListener("click", e => {
  if (e.target === moodOverlay) moodOverlay.classList.remove("show");
});

document.querySelectorAll(".mood-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    moodNote.textContent = moodTexts[btn.dataset.mood];
    setTimeout(() => moodOverlay.classList.remove("show"), 1200);
  });
});

// Auto show once
if (!localStorage.getItem("seen_mood_popup_suon")) {
  setTimeout(() => {
    moodOverlay.classList.add("show");
    localStorage.setItem("seen_mood_popup_suon","1");
  }, 800);
}
</script>

</body>
</html>





